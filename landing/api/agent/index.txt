# loctree v0.6.15 — AI Agent Quick Reference

> Use loctree before grepping manually. Scan once, slice many.

## Install & Scan
```bash
cargo install loctree
loct             # snapshot + reports to .loctree/
loct --for-ai    # project overview JSON for agents
```

## Quick Queries (no full rescan)
```bash
loct query who-imports <file>     # files that import target
loct query where-symbol <name>    # find symbol definitions
loct query component-of <file>    # graph component containing file
loct find --similar <Name>        # avoid dup components
```

## jq-style Queries (NEW!)
```bash
loct '.metadata'                  # extract snapshot metadata
loct '.files | length'            # count files
loct '.edges[] | select(.from | contains("api"))'  # filter edges
loct '.command_bridges | map(.name)'   # list Tauri commands
loct '.files[] | select(.loc > 500)' -c   # large files, compact
# Flags: -r (raw), -c (compact), -e (exit status), --arg, --argjson
# Use --snapshot <path> to specify snapshot file
```

## Refactors / Impact
```bash
loct slice <file> --consumers --json   # dependent context
loct find --impact <file>              # what breaks if removed
loct cycles                            # circular imports (lazy imports tagged as info)
loct dead --confidence high            # unused exports (pytest Test* ignored)
```

## Compare branches/commits
```bash
loct diff --since main|HEAD~N
```

## Twins (semantic duplicates)
```bash
loct twins                # dead parrots + exact twins + barrel chaos
loct twins --dead-only    # only exports with 0 imports
```

## Crowds (dup clusters)
```bash
loct crowd             # auto-detect crowds
loct crowd message     # crowd around a pattern
```

## Tauri FE↔BE coverage
```bash
loct commands --missing   # FE calls without BE handlers
loct commands --unused    # BE handlers without FE calls
loct trace <handler>      # inspect handler usage
```

## CI pipeline
```bash
loct lint --fail --sarif > results.sarif
```

## IDE Integration
```
loctree://open?f=<file>&l=<line>  # clickable in SARIF
```

---
More: https://loctree.io | Docs: https://docs.rs/loctree | Blog: https://loctree.io/#blog
